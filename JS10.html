<!DOCTYPE html>
<html lang="es">
    <head>
        <title> JAVASCRIPT Variables de tipo objeto </title>
        <meta http-equiv="Content-Type" content="text/html;charset=utf-8"/>
    </head>
    <body>
        <div style="width: 90%; height: fit-content; background-color: aqua;">
            <h1> Adicionar Persona </h1>
            <p> Nombre: </p>
            <input type="text" id="nombre"> <br />
            <p> Apellido: </p>
            <input type="text" id="apellido"> <br />
            <p> Fecha de Nacimiento: </p>
            <input type="text" id="fechanac"> <br /><br />
            <button id="crear"> Crear Persona</button>
        </div>

        <h1> Control </h1>
        <button id="listar"> Listar Personas </button>
        <button id="ocultar"> Ocultar Presentacion </button>

        <div id="presentacion"></div>

        <script type="text/javascript">

            var objetoPersona = {};
            var objetoPersona = {nombre: "Pablo", apellido: "Otero", fechaNac: "14/07/1967"};
            var arregloPersonas = [objetoPersona];
            arregloPersonas.push({nombre: "Barbara", apellido: "Otero", fechaNac: "26/08/1996"});
            var objetoPersonas = {personas : arregloPersonas};

            var texto = "<h1> Presentacion </h1>";
            texto = texto + "<table style='border-collapse:collapse; border:solid;'>";
            objetoPersonas.personas.forEach(element => {
                texto = texto + "<tr>";
                texto = texto + "<td style='width: 60px; height: 25px; border: solid;'>" + element.nombre + "</td>";
                texto = texto + "<td style='width: 60px; height: 25px; border: solid;'>" + element.apellido + "</td>";
                texto = texto + "<td style='width: 60px; height: 25px; border: solid;'>" + element.fechaNac + "</td>";
            });
            texto = texto + "</table>";
            texto = texto + "<h3>Longitud del arreglo de objetos: " + arregloPersonas.length + "</h3>";
            document.getElementById("presentacion").innerHTML = texto;
            document.getElementById("presentacion").style.display="block";

            document.getElementById("crear").onclick=function(){
                if((document.getElementById("apellido").value!="") && (document.getElementById("nombre").value!="") && (document.getElementById("fechanac").value!="")){

                    arregloPersonas.push({nombre: document.getElementById("nombre").value, apellido: document.getElementById("apellido").value, fechaNac: document.getElementById("fechanac").value});                    
                    document.getElementById("nombre").value = "";
                    document.getElementById("apellido").value = "";
                    document.getElementById("fechanac").value = "";
                    var texto = "<h1> Presentacion </h1>";
                    texto = texto + "<table style='border-collapse:collapse; border:solid;'>";
                    objetoPersonas.personas.forEach(element => {
                        texto = texto + "<tr>";
                        texto = texto + "<td style='width: 60px; height: 25px; border: solid;'>" + element.nombre + "</td>";
                        texto = texto + "<td style='width: 60px; height: 25px; border: solid;'>" + element.apellido + "</td>";
                        texto = texto + "<td style='width: 60px; height: 25px; border: solid;'>" + element.fechaNac + "</td>";
                    });
                    texto = texto + "</table>";
                    texto = texto + "<h3>Longitud del arreglo de objetos: " + arregloPersonas.length + "</h3>";
                    document.getElementById("presentacion").innerHTML = texto;
                    document.getElementById("presentacion").style.display="block";

                }
                else{
                    alert("Los campos deben estar llenos para crear una persona!");
                }
            }
            
            document.getElementById("listar").onclick=function(){
                document.getElementById("presentacion").style.display="block";
            }
            document.getElementById("ocultar").onclick=function(){
                document.getElementById("presentacion").style.display="none";
            }
            

        </script>
    </body>	
</html>